# API для социальной сети Yatube

## Описание
Проект **Yatube API** — это интерфейс (API) для взаимодействия с социальной сетью Yatube. Проект позволяет клиентским приложениям (фронтенд, мобильные приложения, чат-боты) обращаться к базе данных социальной сети.

**Функционал:**
- Авторизация и аутентификация пользователей (JWT-токены).
- Публикация, редактирование и удаление постов.
- Просмотр сообществ и постов в них.
- Комментирование публикаций.
- Подписка на авторов.

Анонимные пользователи имеют доступ к контенту в режиме «только чтение». Аутентифицированные пользователи могут публиковать контент, подписываться на авторов и управлять своими записями.

## Стек технологий
- Python 3
- Django 3.2
- Django REST Framework (DRF)
- Djoser (библиотека для управления пользователями)
- Simple JWT (работа с токенами)
- SQLite3 (база данных)

## Как запустить проект

Клонировать репозиторий и перейти в него в командной строке:

```bash
git clone https://github.com/ВАШ_АККАУНТ/api_final_yatube.git
```

```bash
cd api_final_yatube
```

Cоздать и активировать виртуальное окружение:

```bash
python -m venv env
```

*Для Windows:*
```bash
source env/Scripts/activate
```

*Для Linux/macOS:*
```bash
source env/bin/activate
```

Установить зависимости из файла requirements.txt:

```bash
python -m pip install --upgrade pip
```

```bash
pip install -r requirements.txt
```

Выполнить миграции:

```bash
python manage.py migrate
```

Запустить проект:

```bash
python manage.py runserver
```

## Документация
После запуска проекта полная документация API (в формате Redoc) доступна по адресу:
[http://127.0.0.1:8000/redoc/](http://127.0.0.1:8000/redoc/)

## Примеры запросов к API

### 1. Получение JWT-токена
Отправьте POST-запрос на адрес `/api/v1/jwt/create/` для получения токена доступа.

**Запрос:**
```json
{
    "username": "my_username",
    "password": "my_password"
}
```

**Ответ:**
```json
{
    "refresh": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "access": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
}
```
*Полученный `access` токен нужно передавать в заголовке `Authorization: Bearer <ваш_токен>` при запросах, требующих аутентификации.*

### 2. Получение списка постов
GET-запрос на адрес `/api/v1/posts/`.

**Ответ:**
```json
[
  {
    "id": 1,
    "author": "admin",
    "text": "Привет, это первый пост в Yatube!",
    "pub_date": "2023-08-20T12:00:00.000000Z",
    "image": null,
    "group": 1
  }
]
```

### 3. Создание поста
POST-запрос на адрес `/api/v1/posts/` (требуется токен).

**Запрос:**
```json
{
    "text": "Текст новой публикации",
    "group": 1
}
```

### 4. Подписка на автора
POST-запрос на адрес `/api/v1/follow/` (требуется токен).

**Запрос:**
```json
{
    "following": "username_author"
}
```